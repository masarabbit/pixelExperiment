
const signSvg = `
  <g>
	<g>
		<path d="M3.1,18.3C2,19,0.8,18.8,0.2,18c-0.4-0.5,0-4.8,0-6.5C0.3,9.3,0.3,6.6,1.7,6c0.5-0.2,1.6-0.2,2,0
			c1.2,0.6,2.1,2,2.6,2.8c0.9,1.5,1.3,2.8,1.6,2.6s2.7-4.3,3.2-4.6c0.7-0.5,2.3-0.9,2.6-0.4c0.3,0.5,0.7,1.9,1,3
			c0.2,1,0.9,4.4,1.2,5.4c0.3,1,0.4,1.6,0.4,2.2c0,0.5,0,0.9-0.5,1c-0.4,0.1-0.7,0.2-1.1,0.3c-0.4,0.1-0.8,0.2-1.4,0
			c-0.6-0.3-0.9-2.5-1-3.2c-0.3-1.3-0.5-2.9-0.7-2.9c-0.3,0-0.7,0.8-1.4,1.5c-0.4,0.4-0.9,0.9-1.2,1.1c-0.3,0.3-0.7,0.6-1.2,0.5
			c-0.7,0-1.6-0.7-2.4-1.7c-0.8-1-1.4-2.9-1.6-2.8c-0.3,0.1-0.1,0.9-0.2,2.1s-0.1,2.2-0.1,2.6c0,0.6-0.1,1.4-0.1,1.7
			C3.2,17.6,3.3,18.2,3.1,18.3z"/>
		<path d="M27,17.1c0.5-0.7,3-1.1,2.9-2.1c-0.1-1-2.5-2.2-3.2-3.7c-0.5-1-0.6-2-0.3-3.3c0.1-0.7,1.3-1.8,2.8-1.7
			c0.8,0.1,1,0.9,1,1c-0.1,0.3-0.9-0.1-1.3,0.3c-0.5,0.6-0.4,1.6,0,2.2c0.4,0.6,2.8,1.7,3.4,2.4c0.4,0.5,1.1,2.2,1,2.8
			c-0.2,1.1-1.7,2.2-3.1,3.1c-0.5,0.3-1,0.6-1.8,0.7C27.8,18.9,26,18.6,27,17.1z"/>
		<path d="M37.5,10.9c-0.3-0.1-1.2,1.9-1.3,2.2c-0.1,0.4,0.2,1.6,0.5,1.7c0.3,0.1,1-0.6,1.3-1.1
			C38.3,13.4,38,11.1,37.5,10.9z M41.2,17c-0.6-0.2-1.3-1.7-1.5-1.6c-0.3,0.1-1.5,1.4-2.2,1.6c-0.4,0.1-2.1,0-2.4-0.2
			s-1.2-2.1-1.2-2.7c0.2-2.4,2.4-4.3,2.9-4.4c0.3-0.1,0.4,0.3,0.7,0.2c0.3-0.1,0.8-0.6,1.9-0.7c0.5,0,1.8,2,2.4,3.1
			c0.5,0.9,1.1,1.8,1.4,1.9c0.3,0.2,0.6,0.1,0.7,0.3c0.1,0.3,0.3,0.8,0.2,1.1c-0.1,0.4-0.6,0.9-0.8,1.1S41.5,17.1,41.2,17L41.2,17z"
			/>
		<path d="M47.1,15.8c-0.2,0.2-1.4,0.7-1.6,0.7s-0.7-0.6-0.8-0.9c-0.1-0.3-0.2-3.5-0.4-5.4S43,1.4,43,1
			c0.1-0.4,0.4-0.9,0.8-1c0.4-0.1,1.1,0.2,1.4,0.9c1,2.3,1.4,8.3,1.9,8.6c0.4,0.3,2.1-0.2,2.5,0.1c0.3,0.2,1.5,1,1.7,1.5
			c0.2,0.5,1.7,3.8,1.7,4.4C52.9,16.1,51.4,17,51,17c-0.2,0-1-0.3-1.3-1c-0.3-0.7-0.9-4.2-1.3-4.2C48.1,11.8,47.4,15.5,47.1,15.8z"
			/>
		<path d="M54.9,5.6c-0.1,0.2-1.2,0.8-1.7,0.6c-0.3-0.1-0.8-1-0.7-1.4C52.7,4.4,53,4,53.2,3.9c0.2-0.1,1.5,0,1.6,0.3
			c0.1,0.3,0,0.5,0,0.7S55.1,5.3,54.9,5.6z"/>
		<path d="M54.3,10.7c-0.2,0.2-0.8,3.7-0.6,4.2c0.1,0.4,0.5,1.3,0.8,1.3c0.4,0,1.7-0.6,1.8-0.9c0.1-0.3,0.2-0.6,0.2-0.9
			c0-0.3-0.8-3.7-0.9-3.9C55.4,10.4,54.6,10.5,54.3,10.7z"/>
		<path d="M58.8,9.3c-0.5-0.2-1.7,0-2.2-0.2c-0.4-0.2-0.8-1.5-0.1-1.8c0.6-0.3,2.1,0,2.2-0.3c0.1-0.3-0.1-0.8-0.2-1.3
			c0-0.4-0.2-2.5-0.2-2.9c0-0.6,0.5-1.6,0.8-1.7s1.3-0.1,1.4,0.2c0,0.5,0.1,0.9,0.2,1.4c0,0.4,0.1,0.9,0.2,1.3C60.9,4.5,61,5,61,5.6
			c0.1,0.3,0.1,1,0.4,1.1c0.2,0.1,1.7-0.2,2,0.1c0.2,0.2,0.5,0.4,0.6,0.8c0,0.3-0.8,1.2-1,1.3c-0.4,0.2-1.1,0-1.1,0.2
			c0,0.2,1.2,5.6,1.2,6.4s-0.3,1.8-0.5,2c-0.2,0.2-1.4,0.4-1.7,0.2c-0.3-0.2-1-0.7-1.1-1.2C59.6,16,59,9.5,58.8,9.3z"/>
		<path d="M23.7,17.2c-0.3-0.1-1.1-2.1-1.4-2.1c-0.3,0-1.1,1.4-1.7,1.7c-0.3,0.2-1.7,0.8-2.2,0.6c-0.4-0.2-2-2.6-2-4.1
			s1.1-3.9,2.7-4.4c1.3-0.5,2.8-0.6,3.3-0.1c0.5,0.5,0.9,2.1,1.5,3.1s2.7,3.6,2.6,4.2C26.5,16.7,24.1,17.4,23.7,17.2z M20.3,10.4
			c-0.2-0.1-1.3,1.2-1.6,2.1c-0.2,0.5,0.3,2.1,0.7,2.1c0.3,0,1.1-2,1.2-2.4C20.6,11.9,20.5,10.5,20.3,10.4z"/>
		<path d="M65.7,9.3c-0.3,0.3-1.3,3.9-1.4,4.4c0,0.6,0.2,1.5,0.4,1.9c0.2,0.4,1,0.6,1.1,0.7c0.1,0.1,0.2,0.3,0.5,0.5
			c0.3,0.1,2.5,0.3,2.8,0c0.4-0.3,2.6-3.1,2.6-4.9c0-0.9-1.9-2.7-2.5-3C68.6,8.6,66.3,8.7,65.7,9.3z M69,12.2c0,0.4-1.1,2.2-1.4,2.3
			c-0.2,0-0.6-0.2-0.7-0.6c-0.1-0.4-0.2-2.7,0-3c0.2-0.3,0.8-0.5,0.9-0.4c0.1,0,0.1,0.2,0.2,0.3C68.1,10.9,69.1,11.8,69,12.2
			L69,12.2z"/>
	</g>
</g>
  `

const svgWrapper = (content, color, w, h) =>{
  return `<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="${w}px" height="${h}px" viewBox="0 0 ${w} ${h}" fill="${color}">${content}</svg>`
}

const outputSvg = (content, canvas) =>{
  const data = new Blob([content], { type: 'image/svg+xml;charset=utf-8' })
  const url = window.URL.createObjectURL(data)
  const sign = new Image()
  sign.onload = () => {
    const { naturalWidth: w, naturalHeight: h } = sign
    const { offsetWidth: cW, offsetHeight: cH } = canvas
    canvas.getContext('2d').drawImage(sign, cW - (6 + w), cH - (7 + h), w, h)
    // canvas.setAttribute('width', w)
    // canvas.setAttribute('height', h)
    // canvas.getContext('2d').drawImage(sign,0, 0, w, h)
  }
  sign.src = url
}

const signDim = {
  w: 71.8, 
  h: 18.9,
}

const createSign = (content, target) =>{
  const oldSign = document.querySelector('.sign')
  if (oldSign) target.removeChild(oldSign)
  const data = new Blob([content], { type: 'image/svg+xml;charset=utf-8' })
  const url = window.URL.createObjectURL(data)
  const sign = new Image()
  sign.src = url
  sign.classList.add('sign')
  target.append(sign)
}

const printSign = canvas =>{
  const sign = document.querySelector('.sign')
  const { naturalWidth: w, naturalHeight: h } = sign
  const { offsetWidth: cW, offsetHeight: cH } = canvas
  canvas.getContext('2d').drawImage(sign, cW - (6 + w), cH - (7 + h), w, h)
}
